import React, { useEffect, useState } from "react";
import { View, Text, TouchableOpacity, FlatList } from "react-native";
let _mem: Record<string, string> = {};
const Storage = { async getItem(k:string){ try{ const AS=require("@react-native-async-storage/async-storage").default; return await AS.getItem(k);}catch{return _mem[k]??null;}}, async setItem(k:string,v:string){ try{ const AS=require("@react-native-async-storage/async-storage").default; await AS.setItem(k,v);}catch{ _mem[k]=v; }}};
export default function Collections(){ const[items,setItems]=useState<string[]>([]); useEffect(()=>{(async()=>{ const raw=await Storage.getItem("nova.collections"); setItems(raw?JSON.parse(raw):[]); })();},[]); const add=async()=>{ const next=[...items,`Saved set ${items.length+1}`]; setItems(next); await Storage.setItem("nova.collections",JSON.stringify(next)); }; return(<View style={{ flex:1, backgroundColor:"black", padding:16 }}><Text style={{ color:"white", fontSize:22, fontWeight:"800", marginBottom:12 }}>Collections</Text><TouchableOpacity onPress={add} style={{ backgroundColor:"#00ffff", padding:12, borderRadius:12, alignSelf:"flex-start", marginBottom:12 }}><Text style={{ color:"black", fontWeight:"800" }}>Save current set</Text></TouchableOpacity><FlatList data={items} keyExtractor={(s,i)=>s+i} renderItem={({item})=>(<View style={{ backgroundColor:"#0b0b0b", borderWidth:1, borderColor:"rgba(0,255,255,0.25)", borderRadius:12, padding:14, marginBottom:10 }}><Text style={{ color:"#fff" }}>{item}</Text></View>)} /></View>); }
